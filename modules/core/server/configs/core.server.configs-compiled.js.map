{"version":3,"sources":["core.server.configs.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,SAAU,QAAQ,oBAAR,CAAd;AAAA,IACI,OAAU,QAAQ,MAAR,CADd;AAAA,IAEI,gBAAgB,QAAQ,QAAQ,GAAR,KAAgB,gBAAxB,CAFpB;;AAIA;AACA,OAAO,OAAP,GAAiB,UAAS,GAAT,EAAc,OAAd,EAAuB,MAAvB,EAA+B,WAA/B,EAA2C;AAC1D,MAAI,SAAY,KAAK,IAAL,CAAU,WAAV,EAAuB,QAAvB,EAAiC,QAAjC,EAA2C,SAAS,gBAApD,CAAhB;AAAA,MACI,YAAY,KAAK,IAAL,CAAU,WAAV,EAAsB,QAAtB,EAAgC,OAAhC,CADhB;AAAA,MAEI,cAAc,cAAc,uBAFhC;AAAA,MAGI,WAAc,KAHlB;;AAKA,MAAI,CAAC,OAAO,EAAP,CAAU,MAAV,CAAL,EAAwB;AACtB,QAAI;AACF,eAAU,QAAQ,KAAK,IAAL,CAAU,WAAV,EAAuB,QAAvB,EAAiC,SAAjC,EAA4C,oBAA5C,CAAR,CAAV;AACA,iBAAW,IAAX;AACD,KAHD,CAGE,OAAO,EAAP,EAAW;AACX,gBAAU,EAAV;AACD;AACF;;AAED,MAAI,OAAO,EAAP,CAAU,MAAV,KAAqB,QAAzB,EAAmC;AACjC,aAAc,OAAO,MAAP,IAAiB,MAA/B;AACA,gBAAc,OAAO,KAAP,IAAgB,SAA9B;AACA,kBAAc,OAAO,WAAP,IAAsB,WAApC;AACD;;AAED,UAAQ,MAAR,IAAkB;AAChB,eAAW,SADK;AAEhB,YAAQ,MAFQ;AAGhB,iBAAa;AAHG,GAAlB;;AAMA,WAAS,SAAT,CAAmB,EAAnB,EAAsB;AACpB,QAAI,cAAc,KAAd,IAAuB,GAAG,IAAH,KAAY,kBAAvC,EACE,QAAQ,GAAR,CAAY,SAAS,wDAArB,EADF,KAGE,MAAM,EAAN;AACH;AACF,CAjCD","file":"core.server.configs-compiled.js","sourcesContent":["'use strict';\r\nvar config  = require('./core.config.json'),\r\n    path    = require('path'),\r\n    global_config = require(process.cwd() + '/config/config');\r\n\r\n/* CONFIGURATE COREmodule */\r\nmodule.exports = function(app, modules, module, module_path){\r\n  var routes    = path.join(module_path, 'server', 'routes', module + '.server.routes'),\r\n      view_path = path.join(module_path,'client', 'views'),\r\n      view_engine = global_config.default_template_engine,\r\n      override    = false;\r\n\r\n  if (!module.re('core')) {\r\n    try {\r\n      config  = require(path.join(module_path, 'server', 'configs', 'module.config.json'));\r\n      override = true;\r\n    } catch (ex) {\r\n      handleErr(ex);\r\n    }\r\n  }\r\n\r\n  if (module.re('core') || override) {\r\n    routes      = config.routes || routes;\r\n    view_path   = config.views || view_path;\r\n    view_engine = config.view_engine || view_engine;\r\n  }  \r\n  \r\n  modules[module] = {\r\n    view_path: view_path,\r\n    routes: routes,\r\n    view_engine: view_engine\r\n  };\r\n\r\n  function handleErr(ex){\r\n    if (ex instanceof Error && ex.code === \"MODULE_NOT_FOUND\")\r\n      console.log(module + \"[module.config.json] not found - Use default settings!\");\r\n    else\r\n      throw ex;\r\n  }\r\n};"]}